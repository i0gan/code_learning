#include <stdio.h>
#include <unistd.h>
#include <stdlib.h>
#include <termio.h>
int Menu_Num=1;

int getch(void)
{
     struct termios tm, tm_old;
     int fd = 0, ch;

     if (tcgetattr(fd, &tm) < 0) {//保存现在的终端设置
          return -1;
     }

     tm_old = tm;
     cfmakeraw(&tm);//更改终端设置为原始模式，该模式下所有的输入数据以字节为单位被处理
     if (tcsetattr(fd, TCSANOW, &tm) < 0) {//设置上更改之后的设置
          return -1;
     }

     ch = getchar();
     if (tcsetattr(fd, TCSANOW, &tm_old) < 0) {//更改设置为最初的样子
          return -1;
     }

     return ch;
}
void LYXF_Interface()
{
	printf("*__________________________________________________________________________*\n");
	printf("|              __   _          __  _         __          .___________.     |\n");
	printf("|             /  > < >        <  >< >       <  >         <  _ _ _ _ _>     |\n");
	printf("|           /  /    \\ \\     /  /   \\ \\     /  /         /  /               |\n");
	printf("|         /  /        \\ \\_/  /       \\ \\_/  /         /  /-------->        |\n");
	printf("|       /  /           ~/  /        /  /\\  \\        /  /---------~         |\n");
	printf("|     /  /_ _ _ _ _   /  /        /  /   \\  \\     /  /                     |\n");
	printf("|   /____________/  /__/        /__/       \\__\\ /__/                       |\n");
	printf("|*________________________________________________________________________*|\n");
	printf("<<<<__*_((((((((---^---Welcome to play Logan game-----^---)))))))))__*_>>>>\n");
	printf("/__________________________________________________________________________\\\n");
}
void Airplan_1(char Airplan[][50],int x,int y)
{
		Airplan[y][x-5]=7; Airplan[y][x+5]=8;
		Airplan[y][x-4]=6; Airplan[y][x-3]=6; Airplan[y][x-2]=6;
		Airplan[y][x-1]=6; Airplan[y][x]=6;   Airplan[y][x+1]=6;
		Airplan[y][x+2]=6; Airplan[y][x+3]=6; Airplan[y][x+4]=6;  //机翼
		
		Airplan[y-1][x-1]=6; Airplan[y-1][x+1]=6; Airplan[y-1][x]=6;
		Airplan[y-2][x-1]=4; Airplan[y-2][x+1]=5; Airplan[y-2][x]=6;
		Airplan[y-3][x]=3;
		
		Airplan[y+1][x-1]=6; Airplan[y+1][x]=6;	  Airplan[y+1][x+1]=6;
		Airplan[y+1][x-5]=6; Airplan[y+1][x+5]=6;
		Airplan[y+2][x]=6;

		Airplan[y+3][x-3]=9; Airplan[y+3][x-2]=6; Airplan[y+3][x-1]=6;
		Airplan[y+3][x]=6; Airplan[y+3][x+1]=6;   Airplan[y+3][x+2]=6;
		Airplan[y+3][x+3]=9;

}
void ResetMap(char Map[][50])
{
	int i_1=0;
	int i_2=0;
	for(i_1=0;i_1<35;i_1++)
	{
		for(i_2=0;i_2<50;i_2++)
		{
			Map[i_1][i_2]=0;
			
			if(i_1==0||i_1==34)	//Set horizontal border
			{
				Map[i_1][i_2]=2;
			}
			else if(i_2==0||i_2==48)//Set longitudinal border
			{
				Map[i_1][i_2]=2;
			}
			if(i_2==49)		//Set /n
			{
				Map[i_1][i_2]=1;
			}
		}
	}
}
void Down(int *x,int *y)
{
	if(*y<(34-4))
	{
		*y=((int)*y+1);
	}
}
void Up(int *x,int *y)
{
	if(*y>(0+4))
	{
		*y=((int)*y-1);
	}
}
void Left(int *x,int *y)
{
	if(*x>(0+6))
	{
		*x=((int)*x-1);
	}
}

void Right(int *x,int *y)
{
	if(*x<(48-6))
	*x=((int)*x+1);
}
void Fire(int )
{

}
void Map()
{
	system("clear");
	int WLength=35; //The border of y
	int WWide  =50; //The border of x
	int x=20,y=30;
	int IF_Quit=0;
	int i_1=0,i_2=0;
	int Control=0;
	char map[35][50]=
	{
		2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,
		2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,	
	};
	while(1)

	{
		system("clear");
		ResetMap(map);
		switch(Control)
		{
			case 'j': Left(&x,&y); break;
			case 'l': Right(&x,&y);break;
			case 'i': Up(&x,&y);   break;
			case 'k': Down(&x,&y); break;
			case 's': Fire(map,x,y); break;
			case 'q': IF_Quit=1; break;
		}
		Airplan_1(map,x,y);

		if(IF_Quit)
		{
			break;
		}
//-----------------------------------------> Print Sence
		for(i_1=0;i_1<WLength;i_1++)
		{
			for(i_2=0;i_2<WWide;i_2++)
			{
				switch(map[i_1][i_2])
				{	case 0: printf("  ");  break;
					case 1: printf("\n"); break;
					case 2: printf(" ❤");  break;
					case 3: printf(" ▲");  break;
					case 4: printf(" ◀");  break;
					case 5: printf(" ▶");  break;
					case 6: printf(" █");  break;
					case 7: printf(" ◢");  break;
					case 8: printf(" ◣");  break;
					case 9: printf(" ✤");  break;
					case 10: printf(" ☯"); break;
					default: printf(" %c",map[i_1][i_2]);
				}
			}
		}
		Control=getch();
	}
//----------------------------------------------------------->



}
void Start_Menu(int select)
{
	switch(Menu_Num)
	{
		case 1:
		printf("                 ∰   ▆▆▆▆▆▆▆▆▆▆ Start Game  ▆▆▆▆▆▆▆▆▆\n");
		printf("                      ▆▆▆▆▆▆▆▆▆▆ About Game  ▆▆▆▆▆▆▆▆▆\n");
		printf("                      ▆▆▆▆▆▆▆▆▆▆ Eixt  Game  ▆▆▆▆▆▆▆▆▆\n");
		break;

		case 2:
		printf("                      ▆▆▆▆▆▆▆▆▆▆ Start Game  ▆▆▆▆▆▆▆▆▆\n");
		printf("                 ∰   ▆▆▆▆▆▆▆▆▆▆ About Game  ▆▆▆▆▆▆▆▆▆\n");
		printf("                      ▆▆▆▆▆▆▆▆▆▆ Eixt  Game  ▆▆▆▆▆▆▆▆▆\n");
		break;

		case 3:
		printf("                      ▆▆▆▆▆▆▆▆▆▆ Start Game  ▆▆▆▆▆▆▆▆▆\n");
		printf("                      ▆▆▆▆▆▆▆▆▆▆ About Game  ▆▆▆▆▆▆▆▆▆\n");
		printf("                 ∰   ▆▆▆▆▆▆▆▆▆▆ Eixt  Game  ▆▆▆▆▆▆▆▆▆\n");
		break;

	}
		printf("\n                 ◕‿◕:  Press 'j'->Down 'k'->Up 'i'->Run\n");
}
void Start()
{
	int i=0;
	int Select=0;
	int IF_Break=0;
	system("clear");
	while(1)
	{
		system("clear");
		LYXF_Interface();
		Start_Menu(Select);
		Select=getch();
		if((Select=='j')&&(Menu_Num<3))
		{
			Menu_Num++;
		}
		if((Select=='k')&&(Menu_Num>1))
		{
			Menu_Num--;
		}

		if(Select=='q')
		{
			break;
		}
		if(Select=='i')
		{
			switch(Menu_Num)
			{
				case 1:
				Map();
				getch();	
				break;

				case 2:
				printf("Me is Logan");
				getch();
				break;
				case 3:

				IF_Break=1;
				break;
			}
		}
		if(IF_Break)
		{
			break;
		}
	}
}
int main(void)
{	
	system("clear");
	Start();
	return 0;
}
